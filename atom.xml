<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>GZ&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://gz1903.github.io/"/>
  <updated>2019-10-09T12:02:00.701Z</updated>
  <id>https://gz1903.github.io/</id>
  
  <author>
    <name>GZ</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Linux安装Ipython 交互式解释器</title>
    <link href="https://gz1903.github.io/2019/10/09/Linux%E5%AE%89%E8%A3%85Ipython-%E4%BA%A4%E4%BA%92%E5%BC%8F%E8%A7%A3%E9%87%8A%E5%99%A8/"/>
    <id>https://gz1903.github.io/2019/10/09/Linux安装Ipython-交互式解释器/</id>
    <published>2019-10-09T00:43:53.000Z</published>
    <updated>2019-10-09T12:02:00.701Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="Ipython-简介"><a href="#Ipython-简介" class="headerlink" title="Ipython 简介"></a>Ipython 简介</h3><p><strong>IPython外加一个文本编辑器</strong></p><p>Windows系统下是IPython加notepad++，Linux系统下是IPython加vim配合使用，写起代码来体验很流畅，很容易获取到写代码时候的那种“流体验”。</p><p>IPython的设计目的是在交互式计算和软件开发这两个方面最大化地提高生产力，它鼓励一种“执行-探索”的工作模式，支持matplotlib等库的绘图操作。同时IPython还提供一个基于WEB的交互式浏览器开发环境（Jupyter Notebook），用起来也很不错。</p><h3 id="配置使用国内源安装第三方模块"><a href="#配置使用国内源安装第三方模块" class="headerlink" title="配置使用国内源安装第三方模块"></a>配置使用国内源安装第三方模块</h3><h4 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h4><p>配置 pip3 使用国内源</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/.pip</span><br><span class="line">vi ~/.pip/pip.conf</span><br><span class="line"><span class="comment"># Windows 下使用 pip.ini</span></span><br></pre></td></tr></table></figure><p>写入如下内容：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url=https://mirrors.aliyun.com/pypi/simple</span><br></pre></td></tr></table></figure><blockquote><p><code>豆瓣源: https://pypi.douban.com/simple/</code></p><p><code>阿里源: https://mirrors.aliyun.com/pypi/simple</code></p><p><code>清华: https://pypi.tuna.tsinghua.edu.cn/simple</code></p><p><code>阿里云: http://mirrors.aliyun.com/pypi/simple/</code></p><p><code>中国科技大学 https://pypi.mirrors.ustc.edu.cn/simple/</code></p><p><code>华中理工大学: http://pypi.hustunique.com/</code></p><p><code>山东理工大学: http://pypi.sdutlinux.org/</code></p></blockquote><p>示例：<br> 比如安装一个执行远程主机命令的模块</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@newrain ~]<span class="comment"># pip3 install paramiko</span></span><br><span class="line">Collecting paramiko</span><br><span class="line">  Downloading https://mirrors.aliyun.com/pypi/packages/4b/80/74dace9e48b0ef923633dfb5e48798f58a168e4734bca8ecfaf839ba051a/paramiko-2.6.0-py2.py3-none-any.whl (199kB)</span><br><span class="line">    100% |████████████████████████████████| 204kB 2.3MB/s </span><br><span class="line">Collecting bcrypt&gt;=3.1.3 (from paramiko)</span><br><span class="line">  Downloading https://mirrors.aliyun.com/pypi/packages/8b/1d/82826443777dd4a624e38a08957b975e75df859b381ae302cfd7a30783ed/bcrypt-3.1.7-cp34-abi3-manylinux1_x86_64.whl (56kB)</span><br><span class="line">    100% |████████████████████████████████| 61kB 3.1MB/s </span><br><span class="line">Collecting pynacl&gt;=1.0.1 (from paramiko)</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h3 id="安装-Ipython"><a href="#安装-Ipython" class="headerlink" title="安装 Ipython"></a>安装 Ipython</h3><h4 id="安装-python-devel"><a href="#安装-python-devel" class="headerlink" title="安装 python-devel"></a>安装 python-devel</h4><p>​         python-dev或python-devel称为是python的开发包，其中包括了一些用C/Java/C#等编写的python扩展在编译的时候依赖的头文件等信息。</p><p>比如：我们在编译一个用C语言编写的python扩展模块时，因为里面会有#include&lt;Python.h&gt;等这样的语句，因此我们就需要先安装python-devel开发包</p><p>执行以下命令安装即可（需要有 epel 源支持）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install python-devel</span><br></pre></td></tr></table></figure><h4 id="安装-ipython"><a href="#安装-ipython" class="headerlink" title="安装 ipython"></a>安装 ipython</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install ipython</span><br></pre></td></tr></table></figure><h4 id="启动-ipython"><a href="#启动-ipython" class="headerlink" title="启动 ipython"></a>启动 ipython</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@nginx2-8 ~]<span class="comment"># ipython</span></span><br><span class="line">Python 3.7.3 (default, Oct  8 2019, 15:49:02) </span><br><span class="line">Type <span class="string">'copyright'</span>, <span class="string">'credits'</span> or <span class="string">'license'</span> <span class="keyword">for</span> more information</span><br><span class="line">IPython 7.8.0 -- An enhanced Interactive Python. Type <span class="string">'?'</span> <span class="keyword">for</span> <span class="built_in">help</span>.</span><br><span class="line"></span><br><span class="line">In [1]:</span><br></pre></td></tr></table></figure><p>当pip安装ipython, bpython后, 直接执行ipython or bpython会报错：*python: command not found</p><h3 id="解决："><a href="#解决：" class="headerlink" title="解决："></a>解决：</h3><p>环境变量问题，设置别名就好。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`<span class="built_in">alias</span> ipython=``<span class="string">'python3 -m IPython'</span>``<span class="built_in">alias</span> bpython=``<span class="string">'python3 -m bpython'</span>`</span><br></pre></td></tr></table></figure><h4 id="退出-ipython"><a href="#退出-ipython" class="headerlink" title="退出 ipython"></a>退出 ipython</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@nginx2-8 ~]<span class="comment"># ipython</span></span><br><span class="line">Python 3.7.3 (default, Oct  8 2019, 15:49:02) </span><br><span class="line">Type <span class="string">'copyright'</span>, <span class="string">'credits'</span> or <span class="string">'license'</span> <span class="keyword">for</span> more information</span><br><span class="line">IPython 7.8.0 -- An enhanced Interactive Python. Type <span class="string">'?'</span> <span class="keyword">for</span> <span class="built_in">help</span>.</span><br><span class="line"></span><br><span class="line">In [1]: <span class="built_in">exit</span>                                                                                                           </span><br><span class="line">[root@nginx2-8 ~]<span class="comment">#</span></span><br></pre></td></tr></table></figure><p><img alt data-src="https://i.loli.net/2019/10/09/w58XUqnjPA9FMSR.jpg" class="lozad"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Python" scheme="https://gz1903.github.io/categories/Python/"/>
    
      <category term="教程" scheme="https://gz1903.github.io/categories/Python/%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Linux" scheme="https://gz1903.github.io/tags/Linux/"/>
    
      <category term="Python" scheme="https://gz1903.github.io/tags/Python/"/>
    
      <category term="教程" scheme="https://gz1903.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Linux 编译安装Python3</title>
    <link href="https://gz1903.github.io/2019/10/08/Linux-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85Python3/"/>
    <id>https://gz1903.github.io/2019/10/08/Linux-编译安装Python3/</id>
    <published>2019-10-08T12:05:49.000Z</published>
    <updated>2019-10-09T11:59:05.724Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h3 id="安装依赖软件包"><a href="#安装依赖软件包" class="headerlink" title="安装依赖软件包"></a>安装依赖软件包</h3><h4 id="centos里面是-devel，如果在ubuntu下安装则要改成-dev，依赖包缺一不可"><a href="#centos里面是-devel，如果在ubuntu下安装则要改成-dev，依赖包缺一不可" class="headerlink" title="centos里面是-devel，如果在ubuntu下安装则要改成-dev，依赖包缺一不可."></a><strong>centos里面是-devel，如果在ubuntu下安装则要改成-dev，依赖包缺一不可.</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y groupinstall <span class="string">"Development tools"</span></span><br><span class="line">yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel libffi-devel</span><br></pre></td></tr></table></figure><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -o python3.7.tgz https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz</span><br><span class="line">// 或者</span><br><span class="line">wget  https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz</span><br></pre></td></tr></table></figure><h3 id="解压安装"><a href="#解压安装" class="headerlink" title="解压安装"></a>解压安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xf Python-3.6.5.tgz</span><br><span class="line"><span class="built_in">cd</span> Python-3.6.5/</span><br></pre></td></tr></table></figure><h3 id="进入目录后，执行下面的命令"><a href="#进入目录后，执行下面的命令" class="headerlink" title="进入目录后，执行下面的命令"></a><strong>进入目录后，执行下面的命令</strong></h3><p>修改文件 <code>Python-3.6.5/Modules/Setup.dist</code>， 去掉如下几行的注释 ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">readline readline.c -lreadline -ltermcap</span><br><span class="line"></span><br><span class="line">SSL=/usr/<span class="built_in">local</span>/ssl</span><br><span class="line">_ssl _ssl.c \</span><br><span class="line">        -DUSE_SSL -I$(SSL)/include -I$(SSL)/include/openssl \</span><br><span class="line">        -L$(SSL)/lib -lssl -lcrypto</span><br></pre></td></tr></table></figure><h4 id="或者在-shell-命令提示符下执行如下命令："><a href="#或者在-shell-命令提示符下执行如下命令：" class="headerlink" title="或者在 shell 命令提示符下执行如下命令："></a>或者在 <code>shell</code> 命令提示符下执行如下命令：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sed -ri <span class="string">'s/^#readline/readline/'</span> Modules/Setup.dist</span><br><span class="line">sed -ri <span class="string">'s/^#(SSL=)/\1/'</span> Modules/Setup.dist</span><br><span class="line">sed -ri <span class="string">'s/^#(_ssl)/\1/'</span> Modules/Setup.dist </span><br><span class="line">sed -ri <span class="string">'s/^#([\t]*-DUSE)/\1/'</span> Modules/Setup.dist </span><br><span class="line">sed -ri <span class="string">'s/^#([\t]*-L\$\(SSL\))/\1/'</span> Modules/Setup.dist</span><br></pre></td></tr></table></figure><h3 id="开始编译安装"><a href="#开始编译安装" class="headerlink" title="开始编译安装"></a><strong>开始编译安装</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./configure --<span class="built_in">enable</span>-shared --prefix=/usr/<span class="built_in">local</span>/python3</span><br><span class="line">make -j 2 &amp;&amp; make install</span><br></pre></td></tr></table></figure><blockquote><p>–enable-shared 指定安装共享库，共享库在使用其他需调用python的软件时会用到，比如使用<code>mod_wgsi</code> 连接Apache与python时需要。</p></blockquote><h3 id="创建软链接"><a href="#创建软链接" class="headerlink" title="创建软链接"></a>创建软链接</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/<span class="built_in">local</span>/bin/python3/bin/python3 /usr/bin/python3</span><br><span class="line">ln -s /usr/<span class="built_in">local</span>/bin/python3/bin/pip3 /usr/bin/pip3</span><br></pre></td></tr></table></figure><h3 id="配置共享库文件"><a href="#配置共享库文件" class="headerlink" title="配置共享库文件"></a>配置共享库文件</h3><p>为所有用户设置共享库目录</p><p>用 vim 编辑器打开配置文件 <code>/etc/profile.d/python3.sh</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile.d/python3.sh</span><br></pre></td></tr></table></figure><p>在文件末尾写上如下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3.6 共享库目录</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/<span class="built_in">local</span>/python3/bin</span><br></pre></td></tr></table></figure><p>编辑文件 <code>/etc/ld.so.conf.d/python3.conf</code>，并且添加如下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/python3/lib</span><br></pre></td></tr></table></figure><p>保存退出文件后， 执行如下命令 加载配置信息使其生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldconfig</span><br></pre></td></tr></table></figure><p>执行如下命令，使环境变量生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile.d/python3.sh</span><br></pre></td></tr></table></figure><h3 id="测试python3"><a href="#测试python3" class="headerlink" title="测试python3"></a>测试python3</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ python3</span><br><span class="line">Python 3.6.3 (default, Dec 17 2017, 04:11:01)</span><br><span class="line">[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux</span><br><span class="line">Type <span class="string">"help"</span>, <span class="string">"copyright"</span>, <span class="string">"credits"</span> or <span class="string">"license"</span> <span class="keyword">for</span> more information.</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">print</span>(<span class="string">'qf'</span>)</span><br><span class="line">qf</span><br><span class="line">&gt;&gt;&gt; <span class="built_in">exit</span>()</span><br></pre></td></tr></table></figure><blockquote><p>输入 <code>exit()</code> 即可退出 python3</p></blockquote><p><img alt data-src="https://i.loli.net/2019/10/08/7mbS6XLKH1YRzoN.jpg" class="lozad"></p><h3 id="测试-pip3"><a href="#测试-pip3" class="headerlink" title="测试 pip3"></a>测试 pip3</h3><blockquote><p>一般情况下你不需要执行下面的安装命令。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@newrain ~]<span class="comment"># pip3 -V</span></span><br><span class="line">pip 9.0.3 from /usr/<span class="built_in">local</span>/lib/python3.6/site-packages (python 3.6)</span><br></pre></td></tr></table></figure><blockquote><p>假如上面显示的含有 python3.6 就没问题了，说名 pip3 安装的模块会安装到上面显示的目录下</p></blockquote><h3 id="特殊问题"><a href="#特殊问题" class="headerlink" title="特殊问题"></a><strong>特殊问题</strong></h3><p>假如 Python Shell 中敲击方向键显示「[[C[[D」<br> 可以安装以下包</p><blockquote><p>一般情况下你不需要执行下面的安装命令。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install gnureadline</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="Python" scheme="https://gz1903.github.io/categories/Python/"/>
    
      <category term="教程" scheme="https://gz1903.github.io/categories/Python/%E6%95%99%E7%A8%8B/"/>
    
    
      <category term="Linux" scheme="https://gz1903.github.io/tags/Linux/"/>
    
      <category term="Python" scheme="https://gz1903.github.io/tags/Python/"/>
    
      <category term="教程" scheme="https://gz1903.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
</feed>
